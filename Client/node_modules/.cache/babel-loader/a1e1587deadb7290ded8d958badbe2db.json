{"ast":null,"code":"import _objectSpread from \"G:\\\\WORKSPACE\\\\Project\\\\Besocial\\\\Besocial\\\\Client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"G:\\\\WORKSPACE\\\\Project\\\\Besocial\\\\Besocial\\\\Client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"G:\\\\WORKSPACE\\\\Project\\\\Besocial\\\\Besocial\\\\Client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"G:\\\\WORKSPACE\\\\Project\\\\Besocial\\\\Besocial\\\\Client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"G:\\\\WORKSPACE\\\\Project\\\\Besocial\\\\Besocial\\\\Client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"G:\\\\WORKSPACE\\\\Project\\\\Besocial\\\\Besocial\\\\Client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"G:\\\\WORKSPACE\\\\Project\\\\Besocial\\\\Besocial\\\\Client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"G:\\\\WORKSPACE\\\\Project\\\\Besocial\\\\Besocial\\\\Client\\\\src\\\\components\\\\user\\\\LogsRow.js\";\nimport React, { Component } from 'react';\nimport { requester } from '../../infrastructure';\nimport { toast } from 'react-toastify';\nimport { ToastComponent } from '../common';\n\nvar UserRow =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(UserRow, _Component);\n\n  function UserRow(props) {\n    var _this;\n\n    _classCallCheck(this, UserRow);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(UserRow).call(this, props));\n\n    _this.promote = function (event) {\n      event.preventDefault();\n      var id = _this.state.id;\n      requester.post('/users/promote?id=' + id, id, function (response) {\n        if (response.success) {\n          _this.setState({\n            role: 'ADMIN'\n          });\n\n          toast.success(React.createElement(ToastComponent.successToast, {\n            text: response.message,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 33\n            },\n            __self: this\n          }), {\n            position: toast.POSITION.TOP_RIGHT\n          });\n        } else {\n          toast.error(React.createElement(ToastComponent.errorToast, {\n            text: response.message,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 37\n            },\n            __self: this\n          }), {\n            position: toast.POSITION.TOP_RIGHT\n          });\n        }\n      }).catch(function (err) {\n        toast.error(React.createElement(ToastComponent.errorToast, {\n          text: \"Internal Server Error: \".concat(err.message),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 42\n          },\n          __self: this\n        }), {\n          position: toast.POSITION.TOP_RIGHT\n        });\n\n        if (err.status === 403 && err.message === 'Your JWT token is expired. Please log in!') {\n          localStorage.clear();\n\n          _this.props.history.push('/login');\n        }\n      });\n    };\n\n    _this.demote = function (event) {\n      event.preventDefault();\n      var id = _this.state.id;\n      requester.post('/users/demote?id=' + id, id, function (response) {\n        if (response.success) {\n          _this.setState({\n            role: 'USER'\n          });\n\n          toast.success(React.createElement(ToastComponent.successToast, {\n            text: response.message,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 59\n            },\n            __self: this\n          }), {\n            position: toast.POSITION.TOP_RIGHT\n          });\n        } else {\n          toast.error(React.createElement(ToastComponent.errorToast, {\n            text: response.message,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 63\n            },\n            __self: this\n          }), {\n            position: toast.POSITION.TOP_RIGHT\n          });\n        }\n      }).catch(function (err) {\n        toast.error(React.createElement(ToastComponent.errorToast, {\n          text: \"Internal Server Error: \".concat(err.message),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 69\n          },\n          __self: this\n        }), {\n          position: toast.POSITION.TOP_RIGHT\n        });\n\n        if (err.status === 403 && err.message === 'Your JWT token is expired. Please log in!') {\n          localStorage.clear();\n\n          _this.props.history.push('/login');\n        }\n      });\n    };\n\n    _this.render = function () {\n      return React.createElement(\"tr\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        className: \"col-md-1 font-weight-bold\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, _this.state.index), React.createElement(\"td\", {\n        className: \"col-md-2\",\n        style: {\n          'color': '#40a3f4'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, _this.state.username), React.createElement(\"td\", {\n        className: \"col-md-2 py-auto\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, _this.state.method), React.createElement(\"td\", {\n        className: \"col-md-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, _this.state.action), React.createElement(\"td\", {\n        className: \"col-md-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, _this.state.tableName), React.createElement(\"td\", {\n        className: \"col-md-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, _this.state.time));\n    };\n\n    _this.state = {\n      id: '',\n      username: '',\n      method: '',\n      tableName: '',\n      action: '',\n      time: ''\n    };\n    _this.promote = _this.promote.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.demote = _this.demote.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(UserRow, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.setState(_objectSpread({}, this.props));\n    }\n  }]);\n\n  return UserRow;\n}(Component);\n\nexport { UserRow as default };","map":{"version":3,"sources":["G:\\WORKSPACE\\Project\\Besocial\\Besocial\\Client\\src\\components\\user\\LogsRow.js"],"names":["React","Component","requester","toast","ToastComponent","UserRow","props","promote","event","preventDefault","id","state","post","response","success","setState","role","message","position","POSITION","TOP_RIGHT","error","catch","err","status","localStorage","clear","history","push","demote","render","index","username","method","action","tableName","time","bind"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { requester } from '../../infrastructure'\nimport { toast } from 'react-toastify';\nimport { ToastComponent } from '../common'\n\nexport default class UserRow extends Component {\n    constructor(props) {\n        super(props)\n\n        this.state = {\n            id: '',\n            username: '',\n            method: '',\n            tableName: '',\n            action: '',\n            time: ''\n        }\n\n        this.promote = this.promote.bind(this);\n        this.demote = this.demote.bind(this);\n    }\n\n    componentDidMount(){\n        this.setState({...this.props})\n    }\n\n    promote = (event) => {\n        event.preventDefault();\n        const id = this.state.id;\n        requester.post('/users/promote?id=' + id, id, (response) => {\n            if (response.success) {\n                this.setState({role: 'ADMIN'})\n                toast.success(<ToastComponent.successToast text={response.message} />, {\n                    position: toast.POSITION.TOP_RIGHT\n                });\n            } else {\n                toast.error(<ToastComponent.errorToast text={response.message} />, {\n                    position: toast.POSITION.TOP_RIGHT\n                });\n            }\n        }).catch(err => {\n            toast.error(<ToastComponent.errorToast text={`Internal Server Error: ${err.message}`} />, {\n                position: toast.POSITION.TOP_RIGHT\n            });\n\n            if(err.status === 403 && err.message === 'Your JWT token is expired. Please log in!'){\n                localStorage.clear();\n                this.props.history.push('/login');\n            }\n        })\n    }\n\n    demote = (event) => {\n        event.preventDefault();\n        const id = this.state.id;\n        requester.post('/users/demote?id=' + id, id, (response) => {\n            if (response.success) {\n                this.setState({role: 'USER'})\n                toast.success(<ToastComponent.successToast text={response.message} />, {\n                    position: toast.POSITION.TOP_RIGHT\n                });\n            } else {\n                toast.error(<ToastComponent.errorToast text={response.message} />, {\n                    position: toast.POSITION.TOP_RIGHT\n                });\n            }\n\n        }).catch(err => {\n            toast.error(<ToastComponent.errorToast text={`Internal Server Error: ${err.message}`} />, {\n                position: toast.POSITION.TOP_RIGHT\n            });\n\n            if(err.status === 403 && err.message === 'Your JWT token is expired. Please log in!'){\n                localStorage.clear();\n                this.props.history.push('/login');\n            }\n        })\n    }\n\n    render = () => {\n        return (\n            <tr className=\"row\" >\n                <td className=\"col-md-1 font-weight-bold\" >\n                   {this.state.index}\n                </td>\n                <td className=\"col-md-2\" style={{'color':'#40a3f4'}}>\n                   {this.state.username}\n                </td>\n\n                <td className=\"col-md-2 py-auto\" >\n                    {this.state.method}\n                </td>\n\n                <td className=\"col-md-2\" >\n                   {this.state.action}\n                </td>\n\n                <td className=\"col-md-2\" >\n                    {this.state.tableName}\n                </td>\n\n                <td className=\"col-md-3\" >\n                    {this.state.time}\n                </td>\n            </tr>\n        )\n    }\n}\n\n"]},"metadata":{},"sourceType":"module"}