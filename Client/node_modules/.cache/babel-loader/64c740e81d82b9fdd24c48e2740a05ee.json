{"ast":null,"code":"import _objectSpread from \"G:\\\\WORKSPACE\\\\Project\\\\Besocial\\\\Besocial\\\\Client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"G:\\\\WORKSPACE\\\\Project\\\\Besocial\\\\Besocial\\\\Client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"G:\\\\WORKSPACE\\\\Project\\\\Besocial\\\\Besocial\\\\Client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"G:\\\\WORKSPACE\\\\Project\\\\Besocial\\\\Besocial\\\\Client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"G:\\\\WORKSPACE\\\\Project\\\\Besocial\\\\Besocial\\\\Client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"G:\\\\WORKSPACE\\\\Project\\\\Besocial\\\\Besocial\\\\Client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"G:\\\\WORKSPACE\\\\Project\\\\Besocial\\\\Besocial\\\\Client\\\\src\\\\components\\\\user\\\\UserProfilePage.js\";\nimport React, { Component, Fragment } from 'react';\nimport { userService } from '../../infrastructure';\nimport { Button, ButtonWithClickEvent } from '../common';\nimport './css/UserProfilePage.css';\nimport { connect } from 'react-redux';\nimport { changeCurrentTimeLineUserAction, changeAllFriendsAction } from '../../store/actions/userActions';\nimport { changeAllPicturesAction } from '../../store/actions/pictureActions';\n\nvar UserProfilePage =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(UserProfilePage, _Component);\n\n  function UserProfilePage(props) {\n    var _this;\n\n    _classCallCheck(this, UserProfilePage);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(UserProfilePage).call(this, props));\n\n    _this.initialDataLoad = function (currentTimeLineUserId) {\n      _this.setState({\n        currentTimeLineUserId: currentTimeLineUserId\n      }, function () {\n        _this.props.changeTimeLineUser(currentTimeLineUserId);\n\n        _this.props.changeAllPictures(currentTimeLineUserId);\n\n        _this.props.changeAllFriends(currentTimeLineUserId);\n      });\n    };\n\n    _this.onSubmitHandlerDelete = function (e) {\n      _this.props.history.push({\n        pathname: \"/home/users/delete/\" + _this.props.timeLineUser.id\n      });\n    };\n\n    _this.onSubmitHandlerEdit = function (e) {\n      _this.props.history.push({\n        pathname: \"/home/users/edit/\" + _this.props.timeLineUser.id,\n        state: _objectSpread({}, _this.props.timeLineUser)\n      });\n    };\n\n    _this.render = function () {\n      var timeLineUserRole;\n\n      if (_this.props.timeLineUser.authorities) {\n        timeLineUserRole = _this.props.timeLineUser.authorities[0]['authority'];\n      }\n\n      var isAdmin = userService.isAdmin();\n      var isRoot = userService.isRoot();\n      var isCurrentUserRoot = timeLineUserRole === 'ROOT';\n      return React.createElement(Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, React.createElement(\"article\", {\n        className: \"main-article-shared-content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, React.createElement(\"section\", {\n        className: \"profile-content-section\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"container mx-auto text-center mb-4 \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        className: \"text-center font-weight-bold mt-4\",\n        style: {\n          'margin': '1rem auto'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, \"Account Details \"), React.createElement(\"div\", {\n        className: \"col-md-6 mx-auto text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, React.createElement(\"table\", {\n        className: \"table table-hover mt-3 mx-auto text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, React.createElement(\"thead\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        className: \"row align-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      })), React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        className: \"col-md-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        className: \" font-weight-bold\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, \"Username\")), React.createElement(\"td\", {\n        className: \"col-md-6 username-color\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, _this.props.timeLineUser.username))), React.createElement(\"tr\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        className: \"col-md-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        className: \" font-weight-bold\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, \"Email\")), React.createElement(\"td\", {\n        className: \"col-md-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, userService.formatUsername(_this.props.timeLineUser.email)))), React.createElement(\"tr\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        className: \"col-md-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        className: \" font-weight-bold\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, \"First Name\")), React.createElement(\"td\", {\n        className: \"col-md-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, userService.formatUsername(_this.props.timeLineUser.firstName)))), React.createElement(\"tr\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        className: \"col-md-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        className: \" font-weight-bold\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, \"Last Name\")), React.createElement(\"td\", {\n        className: \"col-md-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, userService.formatUsername(_this.props.timeLineUser.lastName)))), React.createElement(\"tr\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        className: \"col-md-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        className: \" font-weight-bold\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, \"Address\")), React.createElement(\"td\", {\n        className: \"col-md-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, userService.formatUsername(_this.props.timeLineUser.address)))), React.createElement(\"tr\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        className: \"col-md-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        className: \" font-weight-bold\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, \"City\")), React.createElement(\"td\", {\n        className: \"col-md-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, userService.formatUsername(_this.props.timeLineUser.city)))), (isAdmin || isRoot) && React.createElement(\"tr\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        className: \"col-md-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        className: \" font-weight-bold\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, \"Role\")), React.createElement(\"td\", {\n        className: \"col-md-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, timeLineUserRole))))), React.createElement(\"div\", {\n        className: \"hr-styles\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"d-flex justify-content-center \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, ((isRoot || isAdmin) && !isCurrentUserRoot || userService.isLoggedInUser(_this.props.timeLineUser.username)) && React.createElement(ButtonWithClickEvent, {\n        buttonClass: \"btn App-button-primary btn-lg m-3\",\n        url: \"/home/users/edit/\",\n        text: \"Edit\",\n        onClick: _this.onSubmitHandlerEdit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }), isRoot && !userService.isLoggedInUser(_this.props.timeLineUser.username) && React.createElement(ButtonWithClickEvent, {\n        buttonClass: \"btn App-button-primary btn-lg m-3\",\n        url: \"/home/users/delete/\",\n        text: \"Delete\",\n        onClick: _this.onSubmitHandlerDelete,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }), (isAdmin || isRoot) && React.createElement(Button, {\n        buttonClass: \"btn App-button-primary btn-lg m-3\",\n        url: \"/home/users/all/\".concat(_this.props.loggedInUser.id),\n        text: \"All Users\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      })))))));\n    };\n\n    _this.state = {\n      currentTimeLineUserId: '',\n      ready: false\n    };\n    return _this;\n  }\n\n  _createClass(UserProfilePage, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var currentTimeLineUserId = this.props.match.params.id;\n      this.setState({\n        currentTimeLineUserId: currentTimeLineUserId\n      });\n\n      if (currentTimeLineUserId !== this.props.timeLineUser.id) {\n        this.initialDataLoad(currentTimeLineUserId);\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      if (this.state.currentTimeLineUserId !== this.props.match.params.id) {\n        this.initialDataLoad(this.props.match.params.id);\n      }\n    }\n  }]);\n\n  return UserProfilePage;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    loggedInUser: state.loggedInUserData,\n    timeLineUser: state.timeLineUserData\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    changeTimeLineUser: function changeTimeLineUser(userId) {\n      dispatch(changeCurrentTimeLineUserAction(userId));\n    },\n    changeAllFriends: function changeAllFriends(userId) {\n      dispatch(changeAllFriendsAction(userId));\n    },\n    changeAllPictures: function changeAllPictures(userId) {\n      dispatch(changeAllPicturesAction(userId));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UserProfilePage);","map":{"version":3,"sources":["G:\\WORKSPACE\\Project\\Besocial\\Besocial\\Client\\src\\components\\user\\UserProfilePage.js"],"names":["React","Component","Fragment","userService","Button","ButtonWithClickEvent","connect","changeCurrentTimeLineUserAction","changeAllFriendsAction","changeAllPicturesAction","UserProfilePage","props","initialDataLoad","currentTimeLineUserId","setState","changeTimeLineUser","changeAllPictures","changeAllFriends","onSubmitHandlerDelete","e","history","push","pathname","timeLineUser","id","onSubmitHandlerEdit","state","render","timeLineUserRole","authorities","isAdmin","isRoot","isCurrentUserRoot","username","formatUsername","email","firstName","lastName","address","city","isLoggedInUser","loggedInUser","ready","match","params","prevProps","prevState","mapStateToProps","loggedInUserData","timeLineUserData","mapDispatchToProps","dispatch","userId"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from 'react';\nimport { userService } from '../../infrastructure';\nimport { Button, ButtonWithClickEvent } from '../common';\nimport './css/UserProfilePage.css';\n\nimport { connect } from 'react-redux';\nimport { changeCurrentTimeLineUserAction, changeAllFriendsAction } from '../../store/actions/userActions';\nimport { changeAllPicturesAction } from '../../store/actions/pictureActions';\n\nclass UserProfilePage extends Component {\n    constructor(props) {\n        super(props)\n\n        this.state = {\n            currentTimeLineUserId: '',\n            ready: false\n        }\n    }\n\n    componentDidMount() {\n        const currentTimeLineUserId = this.props.match.params.id\n        this.setState({ currentTimeLineUserId });\n\n        if (currentTimeLineUserId !== this.props.timeLineUser.id) {\n            this.initialDataLoad(currentTimeLineUserId);\n        }\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n        if (this.state.currentTimeLineUserId !== this.props.match.params.id) {\n            this.initialDataLoad(this.props.match.params.id);\n        }\n    }\n\n    initialDataLoad = (currentTimeLineUserId) => {\n        this.setState({ currentTimeLineUserId },\n            () => {\n                this.props.changeTimeLineUser(currentTimeLineUserId);\n                this.props.changeAllPictures(currentTimeLineUserId);\n                this.props.changeAllFriends(currentTimeLineUserId);\n            }\n        )\n    }\n\n    onSubmitHandlerDelete = (e) => {\n        this.props.history.push({\n            pathname: \"/home/users/delete/\" + this.props.timeLineUser.id,\n        });\n    }\n\n    onSubmitHandlerEdit = (e) => {\n        this.props.history.push({\n            pathname: \"/home/users/edit/\" + this.props.timeLineUser.id,\n            state:\n                { ...this.props.timeLineUser }\n        });\n    }\n\n    render = () => {\n        let timeLineUserRole;\n        if (this.props.timeLineUser.authorities) {\n            timeLineUserRole = this.props.timeLineUser.authorities[0]['authority'];\n        }\n\n        const isAdmin = userService.isAdmin();\n        const isRoot = userService.isRoot();\n        const isCurrentUserRoot = timeLineUserRole === 'ROOT';\n\n        return (\n            <Fragment >\n                <article className=\"main-article-shared-content\">\n                    <section className=\"profile-content-section\">\n                        <div className=\"container mx-auto text-center mb-4 \" >\n                            <h1 className=\"text-center font-weight-bold mt-4\" style={{ 'margin': '1rem auto' }}>Account Details </h1>\n\n                            <div className=\"col-md-6 mx-auto text-center\">\n                                <table className=\"table table-hover mt-3 mx-auto text-center\">\n                                    <thead>\n                                        <tr className=\"row align-center\">\n                                            {/* <th className=\"col-md-6\" scope=\"col\">Category:</th>\n                                <th className=\"col-md-6\" scope=\"col\">Price</th>  */}\n                                        </tr>\n                                    </thead>\n                                    <tbody>\n                                        <tr className=\"row\">\n                                            <td className=\"col-md-6\">\n                                                <h5 className=\" font-weight-bold\">Username</h5>\n                                            </td>\n                                            <td className=\"col-md-6 username-color\" >\n                                                <h5>{this.props.timeLineUser.username}</h5>\n                                            </td>\n                                        </tr>\n                                        <tr className=\"row\">\n                                            <td className=\"col-md-6\" >\n                                                <h5 className=\" font-weight-bold\">Email</h5>\n                                            </td>\n                                            <td className=\"col-md-6\">\n                                                <h5>{userService.formatUsername(this.props.timeLineUser.email)}</h5>\n                                            </td>\n                                        </tr>\n                                        <tr className=\"row\">\n                                            <td className=\"col-md-6\" >\n                                                <h5 className=\" font-weight-bold\">First Name</h5>\n                                            </td>\n                                            <td className=\"col-md-6\" >\n                                                <h5>{userService.formatUsername(this.props.timeLineUser.firstName)}</h5>\n                                            </td>\n                                        </tr>\n                                        <tr className=\"row\">\n                                            <td className=\"col-md-6\" >\n                                                <h5 className=\" font-weight-bold\">Last Name</h5>\n                                            </td>\n                                            <td className=\"col-md-6\" >\n                                                <h5>{userService.formatUsername(this.props.timeLineUser.lastName)}</h5>\n                                            </td>\n                                        </tr>\n                                        <tr className=\"row\">\n                                            <td className=\"col-md-6\" >\n                                                <h5 className=\" font-weight-bold\">Address</h5>\n                                            </td>\n                                            <td className=\"col-md-6\">\n                                                <h5>{userService.formatUsername(this.props.timeLineUser.address)}</h5>\n                                            </td>\n                                        </tr>\n                                        <tr className=\"row\">\n                                            <td className=\"col-md-6\" >\n                                                <h5 className=\" font-weight-bold\">City</h5>\n                                            </td>\n                                            <td className=\"col-md-6\" >\n                                                <h5>{userService.formatUsername(this.props.timeLineUser.city)}</h5>\n                                            </td>\n                                        </tr>\n                                        {(isAdmin || isRoot) && <tr className=\"row\">\n                                            <td className=\"col-md-6\" >\n                                                <h5 className=\" font-weight-bold\">Role</h5>\n                                            </td>\n                                            <td className=\"col-md-6\" >\n                                                <h5>{timeLineUserRole}</h5>\n                                            </td>\n                                        </tr>}\n\n                                    </tbody>\n                                </table>\n                                <div className=\"hr-styles\"></div>\n                                <div className=\"d-flex justify-content-center \">\n                                    {(((isRoot || isAdmin) && !isCurrentUserRoot) || userService.isLoggedInUser(this.props.timeLineUser.username)) && <ButtonWithClickEvent buttonClass={\"btn App-button-primary btn-lg m-3\"} url={`/home/users/edit/`} text={\"Edit\"} onClick={this.onSubmitHandlerEdit} />}\n                                    {((isRoot) && !userService.isLoggedInUser(this.props.timeLineUser.username)) && <ButtonWithClickEvent buttonClass={\"btn App-button-primary btn-lg m-3\"} url={`/home/users/delete/`} text={\"Delete\"} onClick={this.onSubmitHandlerDelete} />}\n                                    {(isAdmin || isRoot) && <Button buttonClass={\"btn App-button-primary btn-lg m-3\"} url={`/home/users/all/${this.props.loggedInUser.id}`} text={\"All Users\"} />}\n\n                                </div >\n                            </div >\n                        </div >\n                    </section>\n                </article>\n            </Fragment>\n        )\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        loggedInUser: state.loggedInUserData,\n        timeLineUser: state.timeLineUserData,\n    }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        changeTimeLineUser: (userId) => { dispatch(changeCurrentTimeLineUserAction(userId)) },\n        changeAllFriends: (userId) => {dispatch(changeAllFriendsAction(userId))},\n        changeAllPictures: (userId) => {dispatch(changeAllPicturesAction(userId))},\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UserProfilePage);"]},"metadata":{},"sourceType":"module"}