{"ast":null,"code":"import _classCallCheck from \"G:\\\\WORKSPACE\\\\Project\\\\Besocial\\\\Besocial\\\\Client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"G:\\\\WORKSPACE\\\\Project\\\\Besocial\\\\Besocial\\\\Client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"G:\\\\WORKSPACE\\\\Project\\\\Besocial\\\\Besocial\\\\Client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"G:\\\\WORKSPACE\\\\Project\\\\Besocial\\\\Besocial\\\\Client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"G:\\\\WORKSPACE\\\\Project\\\\Besocial\\\\Besocial\\\\Client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"G:\\\\WORKSPACE\\\\Project\\\\Besocial\\\\Besocial\\\\Client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"G:\\\\WORKSPACE\\\\Project\\\\Besocial\\\\Besocial\\\\Client\\\\src\\\\components\\\\user\\\\UserDeletePage.js\";\nimport React, { Component, Fragment } from 'react';\nimport { NavLink } from 'react-router-dom';\nimport { userService } from '../../infrastructure';\nimport { Button, ButtonWithClickEvent } from '../common';\nimport { toast } from 'react-toastify';\nimport { ToastComponent } from '../common';\nimport './css/UserDeletePage.css';\nimport { connect } from 'react-redux';\nimport { changeCurrentTimeLineUserAction, changeAllFriendsAction, deleteUserAction } from '../../store/actions/userActions';\nimport { changeAllPicturesAction } from '../../store/actions/pictureActions';\n\nvar UserDeletePage =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(UserDeletePage, _Component);\n\n  function UserDeletePage(props) {\n    var _this;\n\n    _classCallCheck(this, UserDeletePage);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(UserDeletePage).call(this, props));\n\n    _this.componentDidMount = function () {\n      var currentTimeLineUserId = _this.props.match.params.id;\n\n      if (currentTimeLineUserId !== _this.props.timeLineUserData.id) {\n        _this.props.changeTimeLineUser(currentTimeLineUserId);\n\n        _this.props.changeAllPictures(currentTimeLineUserId);\n\n        _this.props.changeAllFriends(currentTimeLineUserId);\n      }\n    };\n\n    _this.onSubmitHandlerDelete = function (e) {\n      e.preventDefault();\n      var userToRemoveId = _this.props.timeLineUserData.id;\n\n      _this.props.removeUser(userToRemoveId);\n    };\n\n    _this.render = function () {\n      var authority;\n\n      if (_this.props.timeLineUserData.authorities) {\n        authority = _this.props.timeLineUserData.authorities[0]['authority'];\n      }\n\n      var _this$props$timeLineU = _this.props.timeLineUserData,\n          username = _this$props$timeLineU.username,\n          email = _this$props$timeLineU.email,\n          firstName = _this$props$timeLineU.firstName,\n          lastName = _this$props$timeLineU.lastName,\n          address = _this$props$timeLineU.address,\n          city = _this$props$timeLineU.city;\n      var isAdmin = userService.isAdmin();\n      var isRoot = userService.isRoot();\n      return React.createElement(Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, React.createElement(\"article\", {\n        className: \"main-article-shared-content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, React.createElement(\"section\", {\n        className: \"delete-content-section\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"container mx-auto text-center mb-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        className: \"text-center font-weight-bold alert alert-danger position col-md-10 mt-4\",\n        style: {\n          'margin': '1.5rem auto'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, \"Are you sure you want to delete this User?\"), React.createElement(\"div\", {\n        className: \"col-md-6 mx-auto text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, React.createElement(\"table\", {\n        className: \"table table-hover mt-3 mx-auto text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, React.createElement(\"thead\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        className: \"row align-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      })), React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        className: \"col-md-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        className: \" font-weight-bold\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, \"Username\")), React.createElement(\"td\", {\n        className: \"col-md-6 username-color\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, userService.formatUsername(username)))), React.createElement(\"tr\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        className: \"col-md-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        className: \" font-weight-bold\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, \"Email\")), React.createElement(\"td\", {\n        className: \"col-md-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, userService.formatUsername(email)))), React.createElement(\"tr\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        className: \"col-md-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        className: \" font-weight-bold\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, \"First Name\")), React.createElement(\"td\", {\n        className: \"col-md-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, userService.formatUsername(firstName)))), React.createElement(\"tr\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        className: \"col-md-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        className: \" font-weight-bold\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, \"Last Name\")), React.createElement(\"td\", {\n        className: \"col-md-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, userService.formatUsername(lastName)))), React.createElement(\"tr\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        className: \"col-md-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        className: \" font-weight-bold\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, \"Address\")), React.createElement(\"td\", {\n        className: \"col-md-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, userService.formatUsername(address)))), React.createElement(\"tr\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        className: \"col-md-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        className: \" font-weight-bold\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }, \"City\")), React.createElement(\"td\", {\n        className: \"col-md-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }, userService.formatUsername(city)))), (isAdmin || isRoot) && React.createElement(\"tr\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        className: \"col-md-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        className: \" font-weight-bold\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }, \"Role\")), React.createElement(\"td\", {\n        className: \"col-md-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }, authority))))), React.createElement(\"div\", {\n        className: \"hr-styles\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"d-flex justify-content-center \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      }, (isAdmin || isRoot) && React.createElement(ButtonWithClickEvent, {\n        buttonClass: \"btn App-button-primary btn-lg m-3\",\n        url: \"/home/users/delete/\",\n        text: \"Delete\",\n        onClick: _this.onSubmitHandlerDelete,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }), (isAdmin || isRoot) && React.createElement(NavLink, {\n        className: \"btn App-button-primary btn-lg m-3\",\n        to: \"/home/profile/\".concat(_this.props.id),\n        role: \"button\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }, \"Cancel\"), (isAdmin || isRoot) && React.createElement(Button, {\n        buttonClass: \"btn App-button-primary btn-lg m-3\",\n        url: \"/home/users/all/\".concat(userService.getUserId()),\n        text: \"All Users\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      })))))));\n    };\n\n    _this.state = {\n      id: '',\n      username: '',\n      email: '',\n      firstName: '',\n      lastName: '',\n      address: '',\n      city: '',\n      authorities: []\n    };\n    _this.onSubmitHandlerDelete = _this.onSubmitHandlerDelete.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(UserDeletePage, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      var errorMessage = this.getErrorMessage(prevProps);\n      var successMessage = this.getSuccessMessage(prevProps);\n\n      if (errorMessage) {\n        toast.error(React.createElement(ToastComponent.errorToast, {\n          text: errorMessage,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 45\n          },\n          __self: this\n        }), {\n          position: toast.POSITION.TOP_RIGHT\n        });\n      } else if (successMessage) {\n        toast.success(React.createElement(ToastComponent.successToast, {\n          text: successMessage,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 49\n          },\n          __self: this\n        }), {\n          position: toast.POSITION.TOP_RIGHT\n        });\n        var loggedInUserId = this.props.loggedInUserData.id;\n        this.props.history.push('/home/users/all/' + loggedInUserId);\n      }\n    }\n  }, {\n    key: \"getSuccessMessage\",\n    value: function getSuccessMessage(prevProps) {\n      if (!this.props.deleteUser.hasError && this.props.deleteUser.message && this.props.deleteUser !== prevProps.deleteUser) {\n        return this.props.deleteUser.message;\n      }\n\n      return null;\n    }\n  }, {\n    key: \"getErrorMessage\",\n    value: function getErrorMessage(prevProps) {\n      if (this.props.deleteUser.hasError && prevProps.deleteUser.error !== this.props.deleteUser.error) {\n        return this.props.deleteUser.message || 'Server Error';\n      }\n\n      return null;\n    }\n  }]);\n\n  return UserDeletePage;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    timeLineUserData: state.timeLineUserData,\n    loggedInUserData: state.loggedInUserData,\n    updateUserData: state.updateUserData,\n    deleteUser: state.deleteUser\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    changeTimeLineUser: function changeTimeLineUser(userId) {\n      dispatch(changeCurrentTimeLineUserAction(userId));\n    },\n    changeAllFriends: function changeAllFriends(userId) {\n      dispatch(changeAllFriendsAction(userId));\n    },\n    changeAllPictures: function changeAllPictures(userId) {\n      dispatch(changeAllPicturesAction(userId));\n    },\n    removeUser: function removeUser(userId) {\n      dispatch(deleteUserAction(userId));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UserDeletePage);","map":{"version":3,"sources":["G:\\WORKSPACE\\Project\\Besocial\\Besocial\\Client\\src\\components\\user\\UserDeletePage.js"],"names":["React","Component","Fragment","NavLink","userService","Button","ButtonWithClickEvent","toast","ToastComponent","connect","changeCurrentTimeLineUserAction","changeAllFriendsAction","deleteUserAction","changeAllPicturesAction","UserDeletePage","props","componentDidMount","currentTimeLineUserId","match","params","id","timeLineUserData","changeTimeLineUser","changeAllPictures","changeAllFriends","onSubmitHandlerDelete","e","preventDefault","userToRemoveId","removeUser","render","authority","authorities","username","email","firstName","lastName","address","city","isAdmin","isRoot","formatUsername","getUserId","state","bind","prevProps","prevState","errorMessage","getErrorMessage","successMessage","getSuccessMessage","error","position","POSITION","TOP_RIGHT","success","loggedInUserId","loggedInUserData","history","push","deleteUser","hasError","message","mapStateToProps","updateUserData","mapDispatchToProps","dispatch","userId"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from 'react'\nimport { NavLink } from 'react-router-dom';\nimport { userService } from '../../infrastructure';\nimport { Button, ButtonWithClickEvent } from '../common'\nimport { toast } from 'react-toastify';\nimport { ToastComponent } from '../common';\nimport './css/UserDeletePage.css';\n\nimport { connect } from 'react-redux';\nimport { changeCurrentTimeLineUserAction, changeAllFriendsAction, deleteUserAction } from '../../store/actions/userActions';\nimport { changeAllPicturesAction } from '../../store/actions/pictureActions';\n\nclass UserDeletePage extends Component {\n    constructor(props) {\n        super(props)\n\n        this.state = {\n            id: '',\n            username: '',\n            email: '',\n            firstName: '',\n            lastName: '',\n            address: '',\n            city: '',\n            authorities: []\n        };\n\n        this.onSubmitHandlerDelete = this.onSubmitHandlerDelete.bind(this);\n    }\n\n    componentDidMount = () => {\n        const currentTimeLineUserId = this.props.match.params.id\n        if (currentTimeLineUserId !== this.props.timeLineUserData.id) {\n            this.props.changeTimeLineUser(currentTimeLineUserId);\n            this.props.changeAllPictures(currentTimeLineUserId);\n            this.props.changeAllFriends(currentTimeLineUserId);\n        }\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n        const errorMessage = this.getErrorMessage(prevProps);\n        const successMessage = this.getSuccessMessage(prevProps)\n\n        if (errorMessage) {\n            toast.error(<ToastComponent.errorToast text={errorMessage} />, {\n                position: toast.POSITION.TOP_RIGHT\n            });\n        } else if (successMessage) {\n            toast.success(<ToastComponent.successToast text={successMessage} />, {\n                position: toast.POSITION.TOP_RIGHT\n            });\n\n            const loggedInUserId = this.props.loggedInUserData.id;\n            this.props.history.push('/home/users/all/' + loggedInUserId)\n        }\n    }\n\n    getSuccessMessage(prevProps) {\n        if (!this.props.deleteUser.hasError && this.props.deleteUser.message && this.props.deleteUser !== prevProps.deleteUser) {\n            return this.props.deleteUser.message;\n        }\n\n        return null;\n    }\n\n    getErrorMessage(prevProps) {\n        if (this.props.deleteUser.hasError && prevProps.deleteUser.error !== this.props.deleteUser.error) {\n            return this.props.deleteUser.message || 'Server Error';\n        }\n\n        return null;\n    }\n\n    onSubmitHandlerDelete = (e) => {\n        e.preventDefault();\n\n        const userToRemoveId = this.props.timeLineUserData.id;\n\n        this.props.removeUser(userToRemoveId);\n    }\n\n    render = () => {\n        let authority;\n        if (this.props.timeLineUserData.authorities) {\n            authority = this.props.timeLineUserData.authorities[0]['authority'];\n        }\n\n        const { username, email, firstName, lastName, address, city } = this.props.timeLineUserData;\n\n        const isAdmin = userService.isAdmin();\n        const isRoot = userService.isRoot();\n\n        return (\n            <Fragment>\n                <article className=\"main-article-shared-content\">\n                    <section className=\"delete-content-section\">\n                        <div className=\"container mx-auto text-center mb-4\" >\n                            <h1 className=\"text-center font-weight-bold alert alert-danger position col-md-10 mt-4\" style={{ 'margin': '1.5rem auto' }}>Are you sure you want to delete this User?</h1>\n                            <div className=\"col-md-6 mx-auto text-center\">\n                                <table className=\"table table-hover mt-3 mx-auto text-center\">\n                                    <thead>\n                                        <tr className=\"row align-center\">\n                                            {/* <th className=\"col-md-6\" scope=\"col\">Category:</th>\n                                <th className=\"col-md-6\" scope=\"col\">Price</th>  */}\n                                        </tr>\n                                    </thead>\n                                    <tbody>\n                                        <tr className=\"row\">\n                                            <td className=\"col-md-6\">\n                                                <h5 className=\" font-weight-bold\">Username</h5>\n                                            </td>\n                                            <td className=\"col-md-6 username-color\" >\n                                                <h5>{userService.formatUsername(username)}</h5>\n                                            </td>\n                                        </tr>\n                                        <tr className=\"row\">\n                                            <td className=\"col-md-6\" >\n                                                <h5 className=\" font-weight-bold\">Email</h5>\n                                            </td>\n                                            <td className=\"col-md-6\">\n                                                <h5>{userService.formatUsername(email)}</h5>\n                                            </td>\n                                        </tr>\n                                        <tr className=\"row\">\n                                            <td className=\"col-md-6\" >\n                                                <h5 className=\" font-weight-bold\">First Name</h5>\n                                            </td>\n                                            <td className=\"col-md-6\" >\n                                                <h5>{userService.formatUsername(firstName)}</h5>\n                                            </td>\n                                        </tr>\n                                        <tr className=\"row\">\n                                            <td className=\"col-md-6\" >\n                                                <h5 className=\" font-weight-bold\">Last Name</h5>\n                                            </td>\n                                            <td className=\"col-md-6\" >\n                                                <h5>{userService.formatUsername(lastName)}</h5>\n                                            </td>\n                                        </tr>\n                                        <tr className=\"row\">\n                                            <td className=\"col-md-6\" >\n                                                <h5 className=\" font-weight-bold\">Address</h5>\n                                            </td>\n                                            <td className=\"col-md-6\">\n                                                <h5>{userService.formatUsername(address)}</h5>\n                                            </td>\n                                        </tr>\n                                        <tr className=\"row\">\n                                            <td className=\"col-md-6\" >\n                                                <h5 className=\" font-weight-bold\">City</h5>\n                                            </td>\n                                            <td className=\"col-md-6\" >\n                                                <h5>{userService.formatUsername(city)}</h5>\n                                            </td>\n                                        </tr>\n                                        {(isAdmin || isRoot) && <tr className=\"row\">\n                                            <td className=\"col-md-6\" >\n                                                <h5 className=\" font-weight-bold\">Role</h5>\n                                            </td>\n                                            <td className=\"col-md-6\" >\n                                                <h5>{authority}</h5>\n                                            </td>\n                                        </tr>}\n\n                                    </tbody>\n                                </table>\n                                <div className=\"hr-styles\"></div>\n                                <div className=\"d-flex justify-content-center \">\n                                    {(isAdmin || isRoot) && <ButtonWithClickEvent buttonClass={\"btn App-button-primary btn-lg m-3\"} url={`/home/users/delete/`} text={\"Delete\"} onClick={this.onSubmitHandlerDelete} />}\n                                    {(isAdmin || isRoot) && <NavLink className=\"btn App-button-primary btn-lg m-3\" to={`/home/profile/${this.props.id}`} role=\"button\">Cancel</NavLink>}\n                                    {(isAdmin || isRoot) && <Button buttonClass={\"btn App-button-primary btn-lg m-3\"} url={`/home/users/all/${userService.getUserId()}`} text={\"All Users\"} />}\n                                </div >\n                            </div >\n\n                        </div >\n\n                    </section>\n                </article>\n            </Fragment>\n        )\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        timeLineUserData: state.timeLineUserData,\n        loggedInUserData: state.loggedInUserData,\n        updateUserData: state.updateUserData,\n        deleteUser: state.deleteUser,\n    }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        changeTimeLineUser: (userId) => { dispatch(changeCurrentTimeLineUserAction(userId)) },\n        changeAllFriends: (userId) => { dispatch(changeAllFriendsAction(userId)) },\n        changeAllPictures: (userId) => { dispatch(changeAllPicturesAction(userId)) },\n        removeUser: (userId) => { dispatch(deleteUserAction(userId)) }\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UserDeletePage);"]},"metadata":{},"sourceType":"module"}