{"ast":null,"code":"import _objectSpread from \"G:\\\\WORKSPACE\\\\Project\\\\Besocial\\\\Besocial\\\\Client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport { LOGIN_SUCCESS, LOGIN_ERROR, REDIRECTED, REGISTER_SUCCESS, REGISTER_ERROR, LOGOUT_SUCCESS } from './actionTypes';\nimport { ajaxBegin, ajaxEnd } from './ajaxActions';\nimport { requester } from '../../infrastructure';\n\nfunction registerSuccess(message) {\n  return {\n    type: REGISTER_SUCCESS,\n    message: message\n  };\n}\n\nfunction registerError(messsage) {\n  return {\n    type: REGISTER_ERROR,\n    messsage: messsage\n  };\n}\n\nfunction loginSuccess() {\n  return {\n    type: LOGIN_SUCCESS\n  };\n}\n\nfunction loginError(messsage) {\n  return {\n    type: LOGIN_ERROR,\n    messsage: messsage\n  };\n}\n\nfunction redirectAction() {\n  return {\n    type: REDIRECTED\n  };\n}\n\nfunction logoutSuccess() {\n  return {\n    type: LOGOUT_SUCCESS\n  };\n}\n\nfunction registerAction(userData) {\n  return function (dispatch) {\n    dispatch(ajaxBegin());\n    return requester.post('/users/register', _objectSpread({}, userData), function (response) {\n      if (response.success === true) {\n        dispatch(registerSuccess(response.message));\n      } else {\n        dispatch(registerError(response.message));\n      }\n\n      dispatch(ajaxEnd());\n    }).catch(function (err) {\n      dispatch(registerError(\"\".concat(err.message)));\n      dispatch(ajaxEnd());\n    });\n  };\n}\n\nfunction loginAction(username, password) {\n  return function (dispatch) {\n    dispatch(ajaxBegin());\n    return requester.post('/login', {\n      username: username,\n      password: password\n    }, function (response) {\n      if (response.error) {\n        dispatch(loginError(' Incorrect credentials!'));\n      } else {\n        saveToken(response);\n        dispatch(loginSuccess());\n      }\n\n      dispatch(ajaxEnd());\n    }).catch(function (err) {\n      localStorage.clear();\n      dispatch(loginError(\"\".concat(err.message)));\n      dispatch(ajaxEnd());\n    });\n  };\n}\n\nfunction logoutAction() {\n  return function (dispatch) {\n    localStorage.clear();\n    dispatch(logoutSuccess());\n  };\n}\n\nfunction saveToken(response) {\n  var token = response.split(' ')[1];\n  localStorage.setItem('token', token);\n}\n\nexport { loginAction, redirectAction, registerAction, logoutAction };","map":{"version":3,"sources":["G:\\WORKSPACE\\Project\\Besocial\\Besocial\\Client\\src\\store\\actions\\authActions.js"],"names":["LOGIN_SUCCESS","LOGIN_ERROR","REDIRECTED","REGISTER_SUCCESS","REGISTER_ERROR","LOGOUT_SUCCESS","ajaxBegin","ajaxEnd","requester","registerSuccess","message","type","registerError","messsage","loginSuccess","loginError","redirectAction","logoutSuccess","registerAction","userData","dispatch","post","response","success","catch","err","loginAction","username","password","error","saveToken","localStorage","clear","logoutAction","token","split","setItem"],"mappings":"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","sourcesContent":["import { LOGIN_SUCCESS, LOGIN_ERROR, REDIRECTED, REGISTER_SUCCESS, REGISTER_ERROR, LOGOUT_SUCCESS } from './actionTypes';\nimport { ajaxBegin, ajaxEnd } from './ajaxActions';\nimport { requester } from '../../infrastructure';\n\nfunction registerSuccess(message) {\n    return {\n        type: REGISTER_SUCCESS,\n        message\n    }\n}\n\nfunction registerError(messsage) {\n    return {\n        type: REGISTER_ERROR,\n        messsage\n    }\n}\n\nfunction loginSuccess() {\n    return {\n        type: LOGIN_SUCCESS,\n    }\n}\n\nfunction loginError(messsage) {\n    return {\n        type: LOGIN_ERROR,\n        messsage\n    }\n}\n\nfunction redirectAction() {\n    return {\n        type: REDIRECTED\n    }\n}\n\nfunction logoutSuccess() {\n    return {\n        type: LOGOUT_SUCCESS\n    }\n}\n\n\nfunction registerAction(userData) {\n    return (dispatch) => {\n        dispatch(ajaxBegin());\n        return requester.post('/users/register', { ...userData }, (response) => {\n            if (response.success === true) {\n                dispatch(registerSuccess(response.message))\n            } else {\n                dispatch(registerError(response.message))\n            }\n            dispatch(ajaxEnd());\n        }).catch(err => {\n            dispatch(registerError(`${err.message}`));\n            dispatch(ajaxEnd());\n        })\n    }\n}\n\nfunction loginAction(username, password) {\n    return (dispatch) => {\n        dispatch(ajaxBegin());\n        return requester.post('/login', { username, password }, (response) => {\n            if (response.error) {\n                dispatch(loginError(' Incorrect credentials!'));\n            } else {\n                saveToken(response)\n                dispatch(loginSuccess());\n            }\n            dispatch(ajaxEnd());\n        }).catch(err => {\n            localStorage.clear();\n            dispatch(loginError(`${err.message}`));\n            dispatch(ajaxEnd());\n        })\n    }\n}\n\nfunction logoutAction() {\n    return (dispatch) => {\n        localStorage.clear();\n        dispatch(logoutSuccess())\n    }\n}\n\nfunction saveToken(response) {\n    const token = response.split(' ')[1];\n    localStorage.setItem('token', token);\n}\n\nexport { loginAction, redirectAction, registerAction, logoutAction };"]},"metadata":{},"sourceType":"module"}