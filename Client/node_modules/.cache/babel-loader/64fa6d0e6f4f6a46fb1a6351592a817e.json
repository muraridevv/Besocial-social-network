{"ast":null,"code":"import _classCallCheck from \"G:\\\\WORKSPACE\\\\Project\\\\Besocial\\\\Besocial\\\\Client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"G:\\\\WORKSPACE\\\\Project\\\\Besocial\\\\Besocial\\\\Client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"G:\\\\WORKSPACE\\\\Project\\\\Besocial\\\\Besocial\\\\Client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"G:\\\\WORKSPACE\\\\Project\\\\Besocial\\\\Besocial\\\\Client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"G:\\\\WORKSPACE\\\\Project\\\\Besocial\\\\Besocial\\\\Client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"G:\\\\WORKSPACE\\\\Project\\\\Besocial\\\\Besocial\\\\Client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nimport _taggedTemplateLiteral from \"G:\\\\WORKSPACE\\\\Project\\\\Besocial\\\\Besocial\\\\Client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"G:\\\\WORKSPACE\\\\Project\\\\Besocial\\\\Besocial\\\\Client\\\\src\\\\components\\\\home\\\\HomePage.jsx\";\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n        display: block;\\n        margin: 0 auto;\\n        border-color: red;\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { Component, Fragment, Suspense, lazy } from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport { toast } from 'react-toastify';\nimport { ToastComponent } from '../common';\nimport { userService } from '../../infrastructure/';\nimport { css } from '@emotion/core';\nimport { CircleLoader } from 'react-spinners';\nimport TimeLine from './TimeLine';\nimport HeaderSection from './HeaderSection';\nimport MainSharedContent from './MainSharedContent';\nimport Intro from './Intro';\nimport PhotoGallery from './PhotosGallery';\nimport FriendsGallery from './FriendsGallery';\nimport { connect } from 'react-redux';\nimport { fetchPicturesAction } from '../../store/actions/pictureActions';\nimport { fetchAllUnreadMessagesAction } from '../../store/actions/messageActions';\nimport { fetchLoggedInUserAction, fetchTimeLineUserAction, fetchAllFriendsAction, findFriendsAction } from '../../store/actions/userActions';\nvar UserSearchResultsPage = lazy(function () {\n  return import('../user/UserSearchResultsPage');\n});\nvar UserProfilePage = lazy(function () {\n  return import('../user/UserProfilePage');\n});\nvar UserFriendsAllPage = lazy(function () {\n  return import('../user/UserFriendsAllPage');\n});\nvar UserFindFriendsPage = lazy(function () {\n  return import('../user/UserFindFriendsPage');\n});\nvar UserFriendRequestsPage = lazy(function () {\n  return import('../user/UserFriendRequestsPage');\n});\nvar UserAllPage = lazy(function () {\n  return import('../user/UserAllPage');\n});\nvar UserEditPage = lazy(function () {\n  return import('../../components/user/UserEditPage');\n});\nvar UserDeletePage = lazy(function () {\n  return import('../../components/user/UserDeletePage');\n});\nvar UserGalleryPage = lazy(function () {\n  return import('../user/UserGalleryPage');\n});\nvar UserLogsPage = lazy(function () {\n  return import('../user/UserLogsPage');\n});\nvar MessageBox = lazy(function () {\n  return import('./MessageBox');\n});\nvar ErrorPage = lazy(function () {\n  return import('../common/ErrorPage');\n});\nvar override = css(_templateObject());\n\nvar HomePage =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(HomePage, _Component);\n\n  function HomePage(props) {\n    var _this;\n\n    _classCallCheck(this, HomePage);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(HomePage).call(this, props));\n\n    _this.loadAllPictures = function (userId) {\n      _this.props.loadAllPictures(userId);\n    };\n\n    _this.loadAllFriends = function (userId) {\n      _this.props.loadAllFriends(userId);\n    };\n\n    _this.state = {\n      ready: false\n    };\n    _this.loadAllPictures = _this.loadAllPictures.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.loadAllFriends = _this.loadAllFriends.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(HomePage, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var userId = userService.getUserId();\n      var timeLineUserId = userService.getUserId();\n      this.props.loadLoggedInUserData(userId);\n      this.loadAllPictures(timeLineUserId);\n      this.loadAllFriends(timeLineUserId);\n      this.props.findFriends(userId);\n      this.props.loadAllUnreadMessages();\n      this.setState({\n        ready: true\n      });\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      var errorMessage = this.getErrorMessage(prevProps);\n      var successMessage = this.getSuccessMessage(prevProps);\n\n      if (errorMessage) {\n        toast.error(React.createElement(ToastComponent.errorToast, {\n          text: errorMessage,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 70\n          },\n          __self: this\n        }), {\n          position: toast.POSITION.TOP_RIGHT\n        });\n      } else if (successMessage) {\n        toast.success(React.createElement(ToastComponent.successToast, {\n          text: successMessage,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 74\n          },\n          __self: this\n        }), {\n          position: toast.POSITION.TOP_RIGHT\n        });\n      }\n    }\n  }, {\n    key: \"getSuccessMessage\",\n    value: function getSuccessMessage(prevProps) {\n      if (!this.props.fetchPictures.hasError && this.props.fetchPictures.message && this.props.fetchPictures !== prevProps.fetchPictures) {\n        return this.props.fetchPictures.message;\n      } else if (!this.props.loggedInUserData.hasError && this.props.loggedInUserData.message && this.props.loggedInUserData !== prevProps.loggedInUserData) {\n        return this.props.loggedInUserData.message;\n      } else if (!this.props.fetchAllFriends.hasError && this.props.fetchAllFriends.message && this.props.fetchAllFriends !== prevProps.fetchAllFriends) {\n        return this.props.fetchAllFriends.message;\n      }\n\n      return null;\n    }\n  }, {\n    key: \"getErrorMessage\",\n    value: function getErrorMessage(prevProps) {\n      if (this.props.fetchPictures.hasError && prevProps.fetchPictures.error !== this.props.fetchPictures.error) {\n        return this.props.fetchPictures.message || 'Server Error';\n      } else if (this.props.loggedInUserData.hasError && prevProps.loggedInUserData.error !== this.props.loggedInUserData.error) {\n        return this.props.loggedInUserData.message || 'Server Error';\n      } else if (this.props.fetchAllFriends.hasError && prevProps.fetchAllFriends.error !== this.props.fetchAllFriends.error) {\n        return this.props.fetchAllFriends.message || 'Server Error';\n      }\n\n      return null;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var isRoot = userService.isRoot();\n      var isAdmin = userService.isAdmin();\n      var isTheCurrentLoggedInUser = this.props.loggedInUserData.id === this.props.timeLineUserData.id;\n      var loggedIn = userService.isTheUserLoggedIn();\n      debugger;\n      return React.createElement(Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, React.createElement(HeaderSection, Object.assign({}, this.props.timeLineUserData, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      })), React.createElement(\"main\", {\n        className: \"site-content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, React.createElement(\"section\", {\n        className: \"main-section\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, React.createElement(TimeLine, Object.assign({}, this.props.timeLineUserData, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      })), React.createElement(Suspense, {\n        fallback: React.createElement(\"div\", {\n          className: \"sweet-loading\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 129\n          },\n          __self: this\n        }, React.createElement(CircleLoader, {\n          css: override,\n          sizeUnit: \"px\",\n          size: 150,\n          color: '#61dafb',\n          loading: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 130\n          },\n          __self: this\n        })),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, React.createElement(Switch, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, loggedIn && React.createElement(Route, {\n        exact: true,\n        path: \"/home/comments/:id\",\n        component: MainSharedContent,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }), loggedIn && React.createElement(Route, {\n        exact: true,\n        path: \"/home/profile/:id\",\n        component: UserProfilePage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }), loggedIn && (isRoot || isAdmin || isTheCurrentLoggedInUser) && React.createElement(Route, {\n        exact: true,\n        path: \"/home/users/edit/:id\",\n        component: UserEditPage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }), loggedIn && (isRoot || isAdmin) && React.createElement(Route, {\n        exact: true,\n        path: \"/home/users/all/:id\",\n        component: UserAllPage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }), loggedIn && isRoot && React.createElement(Route, {\n        exact: true,\n        path: \"/home/users/delete/:id\",\n        component: UserDeletePage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }), loggedIn && React.createElement(Route, {\n        exact: true,\n        path: \"/home/gallery/:id\",\n        component: UserGalleryPage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }), \" />}\", loggedIn && (isRoot || isAdmin) && React.createElement(Route, {\n        exact: true,\n        path: \"/home/logs/:id\",\n        component: UserLogsPage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }), loggedIn && React.createElement(Route, {\n        exact: true,\n        path: \"/home/friends/:id\",\n        component: UserFriendsAllPage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }), loggedIn && React.createElement(Route, {\n        exact: true,\n        path: \"/home/findFriends/:id\",\n        component: UserFindFriendsPage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }), loggedIn && React.createElement(Route, {\n        exact: true,\n        path: \"/home/friendRequests/:id\",\n        component: UserFriendRequestsPage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }), loggedIn && React.createElement(Route, {\n        exact: true,\n        path: \"/home/users/search/\",\n        component: UserSearchResultsPage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }), React.createElement(Route, {\n        exact: true,\n        path: \"/error\",\n        component: ErrorPage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }), React.createElement(Route, {\n        component: ErrorPage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      })))), React.createElement(Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, React.createElement(\"section\", {\n        className: \"aside-section\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, React.createElement(Intro, Object.assign({}, this.props.timeLineUserData, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      })), React.createElement(PhotoGallery, {\n        picturesArr: this.props.picturesArr,\n        timeLineUserId: this.props.timeLineUserData.id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }), React.createElement(FriendsGallery, {\n        friendsArr: this.props.friendsArr,\n        timeLineUserId: this.props.timeLineUserData.id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }), React.createElement(MessageBox, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      })))));\n    }\n  }]);\n\n  return HomePage;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    picturesArr: state.fetchPictures.picturesArr,\n    fetchPictures: state.fetchPictures,\n    timeLineUserData: state.timeLineUserData,\n    loggedInUserData: state.loggedInUserData,\n    friendsArr: state.fetchAllFriends.friendsArr,\n    fetchAllFriends: state.fetchAllFriends\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    loadAllPictures: function loadAllPictures(userId) {\n      dispatch(fetchPicturesAction(userId));\n    },\n    loadLoggedInUserData: function loadLoggedInUserData(userId) {\n      dispatch(fetchLoggedInUserAction(userId));\n    },\n    loadTimelineUserData: function loadTimelineUserData(userId) {\n      dispatch(fetchTimeLineUserAction(userId));\n    },\n    loadAllFriends: function loadAllFriends(userId) {\n      dispatch(fetchAllFriendsAction(userId));\n    },\n    findFriends: function findFriends(userId) {\n      dispatch(findFriendsAction(userId));\n    },\n    loadAllUnreadMessages: function loadAllUnreadMessages() {\n      dispatch(fetchAllUnreadMessagesAction());\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(HomePage);","map":{"version":3,"sources":["G:\\WORKSPACE\\Project\\Besocial\\Besocial\\Client\\src\\components\\home\\HomePage.jsx"],"names":["React","Component","Fragment","Suspense","lazy","Route","Switch","toast","ToastComponent","userService","css","CircleLoader","TimeLine","HeaderSection","MainSharedContent","Intro","PhotoGallery","FriendsGallery","connect","fetchPicturesAction","fetchAllUnreadMessagesAction","fetchLoggedInUserAction","fetchTimeLineUserAction","fetchAllFriendsAction","findFriendsAction","UserSearchResultsPage","UserProfilePage","UserFriendsAllPage","UserFindFriendsPage","UserFriendRequestsPage","UserAllPage","UserEditPage","UserDeletePage","UserGalleryPage","UserLogsPage","MessageBox","ErrorPage","override","HomePage","props","loadAllPictures","userId","loadAllFriends","state","ready","bind","getUserId","timeLineUserId","loadLoggedInUserData","findFriends","loadAllUnreadMessages","setState","prevProps","prevState","errorMessage","getErrorMessage","successMessage","getSuccessMessage","error","position","POSITION","TOP_RIGHT","success","fetchPictures","hasError","message","loggedInUserData","fetchAllFriends","isRoot","isAdmin","isTheCurrentLoggedInUser","id","timeLineUserData","loggedIn","isTheUserLoggedIn","picturesArr","friendsArr","mapStateToProps","mapDispatchToProps","dispatch","loadTimelineUserData"],"mappings":"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","sourcesContent":["import React, { Component, Fragment, Suspense, lazy } from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport { toast } from 'react-toastify';\nimport { ToastComponent } from '../common';\nimport { userService } from '../../infrastructure/';\nimport { css } from '@emotion/core';\nimport { CircleLoader } from 'react-spinners';\n\nimport TimeLine from './TimeLine';\nimport HeaderSection from './HeaderSection';\nimport MainSharedContent from './MainSharedContent';\nimport Intro from './Intro';\nimport PhotoGallery from './PhotosGallery';\nimport FriendsGallery from './FriendsGallery';\n\nimport { connect } from 'react-redux';\nimport { fetchPicturesAction } from '../../store/actions/pictureActions';\nimport { fetchAllUnreadMessagesAction } from '../../store/actions/messageActions';\nimport { fetchLoggedInUserAction, fetchTimeLineUserAction, fetchAllFriendsAction, findFriendsAction } from '../../store/actions/userActions';\n\nconst UserSearchResultsPage = lazy(() => import('../user/UserSearchResultsPage'));\nconst UserProfilePage = lazy(() => import('../user/UserProfilePage'));\nconst UserFriendsAllPage = lazy(() => import('../user/UserFriendsAllPage'));\nconst UserFindFriendsPage = lazy(() => import('../user/UserFindFriendsPage'));\nconst UserFriendRequestsPage = lazy(() => import('../user/UserFriendRequestsPage'));\nconst UserAllPage = lazy(() => import('../user/UserAllPage'));\nconst UserEditPage = lazy(() => import('../../components/user/UserEditPage'));\nconst UserDeletePage = lazy(() => import('../../components/user/UserDeletePage'));\nconst UserGalleryPage = lazy(() => import('../user/UserGalleryPage'));\nconst UserLogsPage = lazy(() => import('../user/UserLogsPage'));\nconst MessageBox = lazy(() => import('./MessageBox'));\nconst ErrorPage = lazy(() => import('../common/ErrorPage'));\n\nconst override = css`\n        display: block;\n        margin: 0 auto;\n        border-color: red;\n`;\n\nclass HomePage extends Component {\n    constructor(props) {\n        super(props)\n\n        this.state = {\n            ready: false\n        }\n\n        this.loadAllPictures = this.loadAllPictures.bind(this);\n        this.loadAllFriends = this.loadAllFriends.bind(this);\n    }\n\n    componentDidMount() {\n        const userId = userService.getUserId();\n        const timeLineUserId = userService.getUserId();\n\n        this.props.loadLoggedInUserData(userId);\n        this.loadAllPictures(timeLineUserId);\n        this.loadAllFriends(timeLineUserId);\n        this.props.findFriends(userId);\n        this.props.loadAllUnreadMessages();\n\n        this.setState({ ready: true });\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n        const errorMessage = this.getErrorMessage(prevProps);\n        const successMessage = this.getSuccessMessage(prevProps)\n\n        if (errorMessage) {\n            toast.error(<ToastComponent.errorToast text={errorMessage} />, {\n                position: toast.POSITION.TOP_RIGHT\n            });\n        } else if (successMessage) {\n            toast.success(<ToastComponent.successToast text={successMessage} />, {\n                position: toast.POSITION.TOP_RIGHT\n            });\n        }\n    }\n\n    getSuccessMessage(prevProps) {\n        if (!this.props.fetchPictures.hasError && this.props.fetchPictures.message && this.props.fetchPictures !== prevProps.fetchPictures) {\n            return this.props.fetchPictures.message;\n        }\n        else if (!this.props.loggedInUserData.hasError && this.props.loggedInUserData.message && this.props.loggedInUserData !== prevProps.loggedInUserData) {\n            return this.props.loggedInUserData.message;\n        }\n        else if (!this.props.fetchAllFriends.hasError && this.props.fetchAllFriends.message && this.props.fetchAllFriends !== prevProps.fetchAllFriends) {\n            return this.props.fetchAllFriends.message;\n        }\n        return null;\n    }\n\n    getErrorMessage(prevProps) {\n        if (this.props.fetchPictures.hasError && prevProps.fetchPictures.error !== this.props.fetchPictures.error) {\n            return this.props.fetchPictures.message || 'Server Error';\n        }\n        else if (this.props.loggedInUserData.hasError && prevProps.loggedInUserData.error !== this.props.loggedInUserData.error) {\n            return this.props.loggedInUserData.message || 'Server Error';\n        }\n        else if (this.props.fetchAllFriends.hasError && prevProps.fetchAllFriends.error !== this.props.fetchAllFriends.error) {\n            return this.props.fetchAllFriends.message || 'Server Error';\n        }\n\n        return null;\n    }\n\n    loadAllPictures = (userId) => {\n        this.props.loadAllPictures(userId);\n    }\n\n    loadAllFriends = (userId) => {\n        this.props.loadAllFriends(userId);\n    }\n\n    render() {\n        const isRoot = userService.isRoot();\n        const isAdmin = userService.isAdmin();\n        const isTheCurrentLoggedInUser = this.props.loggedInUserData.id === this.props.timeLineUserData.id;\n        let loggedIn = userService.isTheUserLoggedIn();\n        debugger;\n        return (\n            <Fragment>\n\n                <HeaderSection  {...this.props.timeLineUserData} />\n                <main className=\"site-content\">\n                    <section className=\"main-section\">\n                        <TimeLine {...this.props.timeLineUserData} />\n                        <Suspense fallback={\n                            <div className='sweet-loading'>\n                                <CircleLoader\n                                    css={override}\n                                    sizeUnit={\"px\"}\n                                    size={150}\n                                    color={'#61dafb'}\n                                    loading={true}\n                                />\n                            </div>}>\n                            <Switch>\n                                {loggedIn && <Route exact path=\"/home/comments/:id\" component={MainSharedContent} />}\n                                {loggedIn && <Route exact path=\"/home/profile/:id\" component={UserProfilePage} />}\n                                {loggedIn && (isRoot || isAdmin || isTheCurrentLoggedInUser) && <Route exact path=\"/home/users/edit/:id\" component={UserEditPage} />}\n                                {(loggedIn && (isRoot || isAdmin)) && <Route exact path=\"/home/users/all/:id\" component={UserAllPage} />}\n                                {(loggedIn && isRoot) && <Route exact path=\"/home/users/delete/:id\" component={UserDeletePage} />}\n                                {loggedIn && <Route exact path=\"/home/gallery/:id\" component={UserGalleryPage} />} />}\n                                {(loggedIn && (isRoot || isAdmin)) && <Route exact path=\"/home/logs/:id\" component={UserLogsPage} />}\n                                {loggedIn && <Route exact path=\"/home/friends/:id\" component={UserFriendsAllPage} />}\n                                {loggedIn && <Route exact path=\"/home/findFriends/:id\" component={UserFindFriendsPage} />}\n                                {loggedIn && <Route exact path=\"/home/friendRequests/:id\" component={UserFriendRequestsPage} />}\n                                {loggedIn && <Route exact path=\"/home/users/search/\" component={UserSearchResultsPage} />}\n\n                                <Route exact path=\"/error\" component={ErrorPage} />\n                                <Route component={ErrorPage} />\n                            </Switch>\n                        </Suspense>\n                    </section>\n                    <Fragment>\n                        <section className=\"aside-section\">\n                            <Intro {...this.props.timeLineUserData} />\n                            <PhotoGallery picturesArr={this.props.picturesArr} timeLineUserId={this.props.timeLineUserData.id} />\n                            <FriendsGallery friendsArr={this.props.friendsArr} timeLineUserId={this.props.timeLineUserData.id} />\n                            <MessageBox />\n                        </section>\n                    </Fragment>\n                </main>\n            </Fragment>\n        );\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        picturesArr: state.fetchPictures.picturesArr,\n        fetchPictures: state.fetchPictures,\n        timeLineUserData: state.timeLineUserData,\n        loggedInUserData: state.loggedInUserData,\n        friendsArr: state.fetchAllFriends.friendsArr,\n        fetchAllFriends: state.fetchAllFriends,\n    }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        loadAllPictures: (userId) => { dispatch(fetchPicturesAction(userId)) },\n        loadLoggedInUserData: (userId) => { dispatch(fetchLoggedInUserAction(userId)) },\n        loadTimelineUserData: (userId) => { dispatch(fetchTimeLineUserAction(userId)) },\n        loadAllFriends: (userId) => { dispatch(fetchAllFriendsAction(userId)) },\n        findFriends: (userId) => { dispatch(findFriendsAction(userId)) },\n        loadAllUnreadMessages: () => { dispatch(fetchAllUnreadMessagesAction()) },\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(HomePage);"]},"metadata":{},"sourceType":"module"}